<!-- Hover Infobox Component -->
<% 
  // Generate a unique ID if not provided
  const infoboxId = locals.id || 'hover-infobox-default';
%>
<div id="<%= infoboxId %>" class="hover-infobox" 
     data-show-image="<%= locals.showImage !== false ? 'true' : 'false' %>"
     data-icon-type="<%= locals.iconType || 'play' %>"
     data-max-width="<%= locals.maxWidth || 'default' %>">
  <div class="infobox-layers">
    <% if (locals.showImage !== false) { %>
    <div class="infobox-image">
      <!-- Add fixed container to maintain aspect ratio -->
      <div class="infobox-image-container">
        <!-- Always include an image element for JavaScript to reference -->
        <img src="<%= locals.image || '' %>" alt="<%= locals.title || 'Project image' %>" loading="lazy" />
      </div>
    </div>
    <% } %>
    
    <div class="infobox-content" data-has-image="<%= locals.showImage !== false ? 'true' : 'false' %>">
      <h2 class="infobox-title"><%= locals.title || '' %></h2>
      <p class="infobox-description"><%= locals.description || '' %></p>
      
      <!-- Button with dynamic icon -->
      <div class="infobox-button">
        <div class="infobox-go-button">
          <% if (locals.iconType === 'font-awesome' && locals.iconClass) { %>
            <!-- Font Awesome icon -->
            <i class="<%= locals.iconClass %>"></i>
          <% } else if (locals.iconType === 'svg-file' && locals.svgPath) { %>
            <!-- SVG file reference -->
            <img src="<%= locals.svgPath %>" alt="Icon" class="svg-icon" loading="lazy" />
          <% } else if (locals.iconType === 'custom-svg' && locals.svgContent) { %>
            <!-- Inline custom SVG -->
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path d="<%= locals.svgContent %>"/>
            </svg>
          <% } else if (locals.iconType === 'image') { %>
            <!-- CSS-based image icon (fallback) -->
            <div class="image-icon"></div>
          <% } else if (locals.iconType === 'book') { %>
            <!-- CSS-based book icon (fallback) -->
            <div class="book-icon"></div>
          <% } else if (locals.iconType === 'open-book') { %>
            <!-- CSS-based open book icon (fallback) -->
            <div class="open-book-icon"></div>
          <% } else if (locals.iconType === 'expand') { %>
            <!-- CSS-based expand icon (fallback) -->
            <div class="expand-icon"></div>
          <% } else { %>
            <!-- Default play icon -->
            <div class="play-icon"></div>
          <% } %>
        </div>
      </div>
    </div>
  </div>
</div>
