---
layout: layouts/base.ejs
title: Let's Talk
description: Get in touch with me.
bodyClass: contact-page
---

<!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" 
  integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" 
  crossorigin=""/>

<!-- Header Section with Interactive Map -->
<section class="post-header-section contact-header-section">
  <div class="post-header-image-container contact-map-container">
    <div id="contactMap" class="contact-map"></div>
    
    <div class="post-header-content">
      <div class="post-header-content-inner">
        <h1 class="post-title">LET'S TALK</h1>

        <!-- Breadcrumb (same component as post pages) -->
        <%- include('_includes/components/breadcrumb') %>
      </div>
    </div>
  </div>
</section>

<!-- Content Section -->
<!-- Use contact-content-section for specific styling override -->
<section class="post-content-section contact-content-section">
  <div class="post-body">
    
    <div class="contact-intro">
      <p>I'd love to hear from you. Fill out the form below or reach out directly.</p>
    </div>

    <!-- Contact Details -->
    <div class="contact-details">
      <div class="contact-detail-item">
        <i class="fas fa-envelope contact-icon"></i>
        <a href="mailto:stijn@stijnstevens.be">stijn@stijnstevens.be</a>
      </div>
      <div class="contact-detail-item">
        <i class="fas fa-phone contact-icon"></i>
        <span>+32 472 08 24 45</span>
      </div>
      <div class="contact-detail-item">
        <i class="fas fa-map-marker-alt contact-icon"></i>
        <span>Ghent, Belgium</span>
      </div>
      
      <!-- Social Links -->
      <div class="contact-social-links">
        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
        <a href="#" aria-label="Dribbble"><i class="fab fa-dribbble"></i></a>
        <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
      </div>
    </div>

<!-- Toast notification (fixed at bottom) -->
<div class="contact-success-message" id="contactSuccessMessage">
  <i class="fas fa-check-circle"></i>
  <span>Message sent! I'll get back to you soon.</span>
</div>

    <div class="contact-form-section">
      <form class="contact-form" id="contactForm">
        <div class="form-group">
          <label for="name" class="form-label">Name *</label>
          <input type="text" id="name" name="name" class="form-input" required>
        </div>
        
        <div class="form-group">
          <label for="phone" class="form-label">Phone *</label>
          <input type="tel" id="phone" name="phone" class="form-input" required>
        </div>

        <div class="form-group">
          <label for="email" class="form-label">E-mail *</label>
          <input type="email" id="email" name="email" class="form-input" required>
        </div>

        <div class="form-group">
          <label for="message" class="form-label">Message *</label>
          <textarea id="message" name="message" class="form-textarea" required></textarea>
        </div>

        <button type="submit" class="border-button form-submit-btn">
          SEND
          <span class="btn-icon btn-icon-after"><i class="fas fa-paper-plane"></i></span>
        </button>
      </form>
    </div>
    
    <!-- About Me Component -->
    <%- include('_includes/components/about-me') %>

  </div>
</section>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" 
  integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" 
  crossorigin=""></script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Initialize map
    // Ghent coordinates
    const ghentCoords = [51.0543, 3.7174];
    
    // Create map centered on Belgium/Ghent
    const map = L.map('contactMap', {
      center: ghentCoords,
      zoom: 10,
      zoomControl: true,
      scrollWheelZoom: true
    });
    
    // Dark themed tile layer using CartoDB Dark Matter
    L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
      subdomains: 'abcd',
      maxZoom: 19
    }).addTo(map);
    
    // Create custom animated pin icon using CSS
    const customIcon = L.divIcon({
      className: 'custom-map-marker',
      html: '<div class="marker-pin"><i class="fas fa-map-marker-alt"></i></div>',
      iconSize: [30, 42],
      iconAnchor: [15, 42]
    });
    
    // Add marker to Ghent (non-interactive)
    L.marker(ghentCoords, { 
      icon: customIcon,
      interactive: false
    }).addTo(map);

    // Form submission handler
    const contactForm = document.getElementById('contactForm');
    console.log('Contact form found:', contactForm);
    
    if (contactForm) {
      contactForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        console.log('Form submitted!');
        
        const form = this;
        const submitBtn = form.querySelector('.form-submit-btn');
        const originalBtnText = submitBtn.innerHTML;
        
        submitBtn.innerHTML = 'SENDING... <i class="fas fa-spinner fa-spin"></i>';
        submitBtn.style.pointerEvents = 'none';

        try {
          const FORMSPREE_ID = "mvgerony"; 
          console.log('Sending to Formspree...');

          const response = await fetch(`https://formspree.io/f/${FORMSPREE_ID}`, {
            method: "POST",
            body: new FormData(form),
            headers: {
                'Accept': 'application/json'
            }
          });
          
          console.log('Response status:', response.status);
          
          if (response.ok) {
            // Success action
            console.log('Form submitted successfully!');
            form.reset();
            const successMessage = document.getElementById('contactSuccessMessage');
            successMessage.classList.add('show');
            submitBtn.innerHTML = originalBtnText;
            submitBtn.style.pointerEvents = 'auto';
            
            // Auto-hide toast after 3 seconds
            setTimeout(() => {
              successMessage.classList.remove('show');
              successMessage.classList.add('hide');
              // Remove hide class after animation completes
              setTimeout(() => {
                successMessage.classList.remove('hide');
              }, 400);
            }, 3000);
          } else {
            const data = await response.json();
            console.log('Error response:', data);
            if (Object.hasOwn(data, 'errors')) {
               throw new Error(data.errors.map(error => error["message"]).join(", "));
            }
            throw new Error('Oops! There was a problem submitting your form');
          }
        } catch (error) {
          console.error('Form submission error:', error);
          submitBtn.innerHTML = originalBtnText;
          submitBtn.style.pointerEvents = 'auto';
          alert('Something went wrong. Please try again or email me directly at stijn@stijnstevens.be');
        }
      });
    }
  });
</script>
